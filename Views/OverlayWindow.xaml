<Window x:Class="OverlaySearch.Views.OverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None" AllowsTransparency="True"
        Background="#66000000"
        ResizeMode="NoResize" ShowInTaskbar="False"
        WindowStartupLocation="CenterScreen"
        Width="{Binding Source={x:Static SystemParameters.PrimaryScreenWidth}}"
        Height="{Binding Source={x:Static SystemParameters.PrimaryScreenHeight}}">

    <Grid>
        <Border HorizontalAlignment="Center" VerticalAlignment="Center"
                Width="800" Padding="18"
                Background="#1A1F2A" CornerRadius="10"
                BorderBrush="#40FFFFFF" BorderThickness="1">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="420"/>
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBox x:Name="SearchBox"
                         FontSize="24" Padding="8"
                         Background="#FF0F1320" Foreground="White"
                         BorderBrush="#55FFFFFF" BorderThickness="1"
                         Text="{Binding Query, UpdateSourceTrigger=PropertyChanged}" />

                <ListBox x:Name="GameList"
                         Grid.Row="2" Height="420"
                         ItemsSource="{Binding Filtered}"
                         SelectedValuePath="Core"
                         SelectedValue="{Binding SelectedGame, Mode=TwoWay}"
                         Background="Transparent" BorderThickness="0"
                         ScrollViewer.VerticalScrollBarVisibility="Auto">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <DockPanel Margin="6">
                                <Border Width="90" Height="50" CornerRadius="4" Background="#33000000">
                                    <Image Stretch="UniformToFill"
                                           SnapsToDevicePixels="True"
                                           Source="{Binding Cover}" />
                                </Border>
                                <TextBlock Text="{Binding Name}"
                                           Foreground="White" FontSize="20"
                                           Margin="12,0,0,0"
                                           VerticalAlignment="Center"/>
                            </DockPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                <TextBlock Grid.Row="4" Text="Enter / A = 选择    Esc / B = 取消"
                           Foreground="#CCFFFFFF" FontSize="16"
                           HorizontalAlignment="Center"/>
            </Grid>
        </Border>
    </Grid>
</Window>